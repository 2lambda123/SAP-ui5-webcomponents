<ui5-responsive-popover
	id="{{_id}}-menu-rp"
	class="ui5-menu-rp"
	horizontal-align="Left"
	placement-type={{placementType}}
	vertical-align={{verticalAlign}}
	hide-arrow
	allow-target-overlap
	?sub-menu={{_isSubMenu}}
	@ui5-before-open={{_beforePopoverOpen}}
	@ui5-after-open={{_afterPopoverOpen}}
	@ui5-before-close={{_beforePopoverClose}}
	@ui5-after-close={{_afterPopoverClose}}
>
{{#if isPhone}}
	<div
		slot="header"
		class="ui5-menu-dialog-header"
	>
	{{#if isSubMenuOpened}}
		<ui5-button
			icon="nav-back"
			class="ui5-menu-back-button"
			design="Transparent"
			aria-label="{{labelBack}}"
			@click={{_navigateBack}}
		>
		</ui5-button>
	{{/if}}
		<div
			class="ui5-menu-dialog-title"
		>
			<div>
				{{menuHeaderTextPhone}}
			</div>
		</div>
		<ui5-button
			icon="decline"
			design="Transparent"
			aria-label="{{labelClose}}"
			@click={{close}}
		>
		</ui5-button>
	</div>
{{/if}}
	<div
		id="{{_id}}-menu-main"
	>
	{{#if _currentItems.length}}
		<ui5-list
			id="{{_id}}-menu-list"
			mode="None"
			?busy="{{busy}}"
			busy-delay="{{busyDelay}}"
			separators="None"
			accessible-role="menu"
			@ui5-item-click={{_itemClick}}
			@mouseover="{{_busyMouseOver}}"
		>
		{{#each _currentItems}}
			<ui5-li-custom
				.associatedItem="{{this.item}}"
				class="ui5-menu-custom-item"
				id="{{../_id}}-menu-item-{{@index}}"
				.icon="{{this.item.icon}}"
				accessible-name={{this.item.ariaLabelledByText}}
				accessible-role="menuitem"
				.additionalText="{{this.item._additionalText}}"
				._ariaHasPopup={{this.ariaHasPopup}}
				?disabled={{this.item.disabled}}
				?starts-section={{this.item.startsSection}}
				?selected={{this.item.subMenuOpened}}
				?is-phone={{../isPhone}}
				@mouseover={{../_itemMouseOver}}
				@mouseout={{../_itemMouseOut}}
				@keydown={{../_itemKeyDown}}
			>
				{{#if ../itemsWithIcon}}
					<div icon>
					{{#if this.item.hasIcon}}
						<ui5-icon
							name="{{this.item.icon}}"
						>
					{{/if}}
					</div>
				{{/if}}

				<div title>
					{{this.item.text}}
				</div>

				{{#if this.item.hasAfterContent}}
				<div after>
				{{#if this.item.hasActions}}
					{{#each this.item.actionComponents}}
						{{this}}
					{{/each}}
				{{else}}
					{{this.item._additionalText}}
				{{/if}}
				</div>
				{{/if}}

				{{#if ../itemsWithChildren}}
				<div sub>
					{{#if this.item.hasSubmenu}}
						<ui5-icon
							name="slim-arrow-right"
						>
					{{/if}}
				</div>
				{{/if}}
			</ui5-li-custom>
		{{/each}}
		</ui5-list>
	{{else if busy}}
		<ui5-busy-indicator
			id="{{_id}}-menu-busy-indicator"
			delay="{{busyDelay}}"
			class="ui5-menu-busy-indicator"
			@mouseover="{{_busyMouseOver}}"
			active>
		</ui5-busy-indicator>
	{{/if}}
	</div>
</ui5-responsive-popover>

<div
	class="ui5-menu-submenus"
>
</div>