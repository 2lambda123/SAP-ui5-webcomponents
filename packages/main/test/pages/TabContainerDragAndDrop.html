<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Tab Container Drag and Drop</title>

	<script src="../../bundle.esm.js" type="module"></script>
	<link rel="stylesheet" type="text/css" href="./styles/TabContainer.css">
</head>

<body class="tabcontainer1auto">
	<ui5-toggle-button id="densityToggle">Compact</ui5-toggle-button>

	<section>
		<h2>Drag and drop</h2>
		<ui5-tabcontainer id="tabContainerDnd" collapsed fixed>
			<ui5-tab design="Positive" text="One"></ui5-tab>
			<ui5-tab design="Negative" text="Two" disabled>
				<ui5-tab slot="subTabs" text="2.1"></ui5-tab>
			</ui5-tab>
			<ui5-tab design="Critical" text="Three">
				<ui5-tab slot="subTabs" design="Positive" text="3.1">
					<ui5-button>Button 3</ui5-button>
				</ui5-tab>
			</ui5-tab>
			<ui5-tab text="Four"></ui5-tab>

			<ui5-tab text="Five">
				<ui5-tab slot="subTabs" text="nested in Five">
					<ui5-tab slot="subTabs" text="nested deeper in Five">text</ui5-tab>
					text
				</ui5-tab>
			</ui5-tab>

			<ui5-tab text="Six"></ui5-tab>
			<ui5-tab text="Seven"></ui5-tab>
			<ui5-tab-separator></ui5-tab-separator>
			<ui5-tab design="Positive" text="Eight"></ui5-tab>
			<ui5-tab design="Negative" text="Nine"></ui5-tab>
			<ui5-tab design="Critical" text="Ten"></ui5-tab>
			<ui5-tab text="Eleven"></ui5-tab>
			<ui5-tab-separator></ui5-tab-separator>
			<ui5-tab text="Twelve"></ui5-tab>
			<ui5-tab text="Thirteen" selected></ui5-tab>
			<ui5-tab text="Fourteen"></ui5-tab>
			<ui5-tab text="Fifteen"></ui5-tab>
			<ui5-tab text="Sixteen"></ui5-tab>
			<ui5-tab text="Seventeen"></ui5-tab>
			<ui5-tab text="Eighteen"></ui5-tab>
			<ui5-tab-separator></ui5-tab-separator>
			<ui5-tab text="Nineteen"></ui5-tab>
			<ui5-tab text="Twenty"></ui5-tab>
			<ui5-tab text="Twenty One"></ui5-tab>
			<ui5-tab text="Twenty Two"></ui5-tab>
			<ui5-tab text="Twenty Three"></ui5-tab>
			<ui5-tab text="Twenty Four"></ui5-tab>
			<ui5-tab-separator></ui5-tab-separator>
			<ui5-tab text="Twenty Five"></ui5-tab>
			<ui5-tab text="Twenty Six"></ui5-tab>
			<ui5-tab text="Twenty Seven"></ui5-tab>
			<ui5-tab-separator></ui5-tab-separator>
			<ui5-tab text="Twenty Eight"></ui5-tab>
			<ui5-tab text="Twenty Nine"></ui5-tab>
			<ui5-tab text="Thirty"></ui5-tab>
		</ui5-tabcontainer>
	</section>

	<script>
		document.getElementById("densityToggle").addEventListener("click", function (event) {
			document.body.classList.toggle("sapUiSizeCompact")
		});

		[...document.getElementById("tabContainerDnd").querySelectorAll("ui5-tab")].forEach(t => t.setAttribute("draggable", true))

		// document.getElementById("tabContainerDnd").addEventListener("dragend", (e) => {
		// 	console.log("drag ended")
		// });

		document.getElementById("tabContainerDnd").addEventListener("tab-reorder", (e) => {
			const { destination, source } = e.detail;

			destination.element.insertBefore(
				source.element,
				destination.insertBeforeElement);
		});

		
	</script>
</body>

</html>