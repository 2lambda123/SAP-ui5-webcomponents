<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Calendar Playground</title>

	<script>
		// delete Document.prototype.adoptedStyleSheets;
	</script>

	<script data-ui5-config type="application/json">
		{
			"language": "EN"
		}
	</script>

	<script src="../../bundle.esm.js" type="module"></script>


	<link rel="stylesheet" type="text/css" href="./styles/Calendar.css">

</head>
<body class="calendar1auto" data-ui5-compact-size>

	<ui5-title level="H3">Calendar Legend with All types of Calendar Legend Items</ui5-title>

	<ui5-calendar type="123" secondary-calendar-type="Islamic">
		<!-- Special dates which types will be connected to the calendar legend -->
		<ui5-special-date slot="specialDates" value="" type="Type01"></ui5-special-date>
		<ui5-special-date slot="specialDates" value="" type="Type09"></ui5-special-date>
		<ui5-special-date slot="specialDates" value="" type="Type09"></ui5-special-date>
		<ui5-special-date slot="specialDates" value="" type="Type09"></ui5-special-date>
		<ui5-special-date slot="specialDates" value="" type="Type01"></ui5-special-date>
		<ui5-special-date slot="specialDates" value="" type="Type02"></ui5-special-date>

		<ui5-calendar-legend 
			slot="calendarLegend"
			id="calendarLegend1"
			hide-today
			hide-selected-day
		>
			<ui5-calendar-legend-item type="Type01" placeholder="Placeholder 01"></ui5-calendar-legend-item>
			<ui5-calendar-legend-item type="Type09" placeholder="Placeholder 03"></ui5-calendar-legend-item>
			<ui5-calendar-legend-item type="Type02" placeholder="Placeholder 02"></ui5-calendar-legend-item>
		</ui5-calendar-legend>
	</ui5-calendar>
</body>

<script>
	function updateSpecialDates() {
		const dates = [1, 2, 7, 10, 19, 22];

		const currentDate = new Date();
		const month = currentDate.getMonth() + 1;
		const year = currentDate.getFullYear();

		const formattedMonth = month < 10 ? '0' + month : month.toString();
		const specialDates = document.querySelectorAll('ui5-special-date');

		specialDates.forEach((specDate, index) => {
			if (index < dates.length) {
				const day = dates[index] < 10 ? '0' + dates[index] : dates[index].toString();
				const newValue = year + '-' + formattedMonth + '-' + day;
				specDate.setAttribute('value', newValue);
			}
		});
	}

	updateSpecialDates();
</script>

</html>
